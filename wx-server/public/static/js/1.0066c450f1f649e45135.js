webpackJsonp([1,6],{3:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={props:{item:{type:String,"default":"上传图片"},img:{name:{type:String,"default":""}},imgbase64:{type:String,"default":""}},methods:{getImg:function(t){var i=this,e=t.target.files[0];this.img=e||this.img;var o=new FileReader;o.readAsDataURL(this.img),o.onload=function(t){i.imgbase64=t.target.result}},initImg:function(){this.img={name:null},this.imgbase64=null}}}},4:function(t,i,e){i=t.exports=e(1)(),i.push([t.id,".img-upload{position:relative;padding:0 16px;min-height:48px;color:#7e848c;font-size:14px}.img-upload-input{width:100%;height:46px;margin-top:16px}.img-upload-button{height:100%}.img-upload-input>input{opacity:0;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;padding:0 16px}.img-upload-show{margin:16px}.img-upload-show>img{width:100%}.pull-right{float:right}.fade-transition{-webkit-transition:all .2s linear;transition:all .2s linear;opacity:1}.fade-enter,.fade-leave{opacity:0}",""])},5:function(t,i,e){var o=e(4);"string"==typeof o&&(o=[[t.id,o,""]]);e(2)(o,{});o.locals&&(t.exports=o.locals)},6:function(t,i){t.exports="<div class=img-upload><div class=img-upload-input><button class=img-upload-button fill=fill raised=raised><icon value=photo></icon><span>{{item}}</span></button><input type=file accept=image/* @change=getImg /></div><div class=img-upload-show v-if=img.name transition=fade><p>已选择文件：{{img.name}}<icon class=pull-right value=close @click=initImg></icon></p><img :src=imgbase64 /></div></div>"},7:function(t,i,e){var o,n;e(5),o=e(3),n=e(6),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},12:function(t,i,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=e(7),s=o(n);i["default"]={components:{imgUpload:s["default"]},data:function(){return{infos:{link:"",title:"",img:{name:null}},token:"",toasts:[]}},methods:{upload:function(){var t=this;if(this.infos.title)if(this.infos.link)if(this.infos.img.name)if(this.token){var i=new FormData;i.append("title",this.infos.title),i.append("link",this.infos.link),i.append("img",this.infos.img),i.append("token",this.token),this.$http.post("/request/history/banner",i).then(function(i){1===i.body.state?(t.toast("轮换图上传成功"),t.infos={img:{name:null}}):t.toast(i.body.err)},function(i){return 413===i.status?t.toast("图片过大，上传失败"):void console.log(i)})}else this.toast("请输入身份验证码");else this.toast("请上传轮换图");else this.toast("请输入轮换图链接");else this.toast("请输入标题")},toast:function(t){var i=this;this.toasts.push({text:t}),setTimeout(function(){return i.toasts.splice(0,1)},2e3)}}}},21:function(t,i,e){i=t.exports=e(1)(),i.push([t.id,"",""])},30:function(t,i,e){var o=e(21);"string"==typeof o&&(o=[[t.id,o,""]]);e(2)(o,{});o.locals&&(t.exports=o.locals)},42:function(t,i){t.exports='<content><form-list><text-field label-float=label-float label=标题 icon=title :value.sync=infos.title></text-field><text-field label-float=label-float label=轮换图链接 icon=language :value.sync=infos.link></text-field><text-field label-float=label-float label=身份验证码 icon=person_pin :value.sync=token></text-field><img-upload item=上传轮换图 :img.sync=infos.img></img-upload></form-list><float-button style="right: 20px; bottom: 20px; z-index: 99" fixed=fixed color=red icon=check @click=upload></float-button><toast v-for="toast in toasts" :text=toast.text :loading=toast.loading :icon=toast.icon :center=toast.center></toast></content>'},51:function(t,i,e){var o,n;e(30),o=e(12),n=e(42),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}});